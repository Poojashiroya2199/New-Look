(this.webpackJsonppooja=this.webpackJsonppooja||[]).push([[0],{18:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(1),a=r.n(n),s=r(19),i=r.n(s),l=(r(47),r(16)),d=(r(48),r(5)),o=r(8),j=r(3),u=r(21),b=(r(18),r(2)),h=r(4),p=r.n(h),O=r(9),x="PRODUCT_LIST_REQUEST",m="PRODUCT_LIST_SUCCESS",v="PRODUCT_LIST_FAIL",f="PRODUCT_DETAILS_REQUEST",y="PRODUCT_DETAILS_SUCCESS",g="PRODUCT_DETAILS_FAIL",S="PRODUCT_SAVE_REQUEST",E="PRODUCT_SAVE_SUCCESS",N="PRODUCT_SAVE_FAIL",_="PRODUCT_DELETE_REQUEST",C="PRODUCT_DELETE_SUCCESS",I="PRODUCT_DELETE_FAIL",w="PRODUCT_REVIEW_SAVE_REQUEST",R="PRODUCT_REVIEW_SAVE_SUCCESS",D="PRODUCT_REVIEW_SAVE_FAIL",k="PRODUCT_REVIEW_SAVE_RESET",T=r(7),A=r.n(T),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var c=Object(O.a)(p.a.mark((function c(n){var a,s;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n({type:x}),c.next=4,A.a.get("/api/products?category="+e+"&searchKeyword="+t+"&sortOrder="+r);case 4:a=c.sent,s=a.data,n({type:m,payload:s}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),n({type:v,payload:c.t0.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()};function U(e){return e.value?Object(c.jsxs)("div",{className:"rating",children:[Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:e.value>=1?"fa fa-star":e.value>=.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:e.value>=2?"fa fa-star":e.value>=1.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:e.value>=3?"fa fa-star":e.value>=2.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:e.value>=4?"fa fa-star":e.value>=3.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:e.value>=5?"fa fa-star":e.value>=4.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:e.text?e.text:""})]}):Object(c.jsx)("div",{})}function L(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(0),l=Object(j.a)(i,2),o=l[0],h=l[1],x=Object(n.useState)(""),m=Object(j.a)(x,2),v=m[0],S=m[1],E=Object(b.c)((function(e){return e.userSignin})).userInfo,N=Object(b.c)((function(e){return e.productDetails})),_=N.product,C=N.loading,I=N.error,T=Object(b.c)((function(e){return e.productReviewSave})).success,P=Object(b.b)();Object(n.useEffect)((function(){var t;return T&&(alert("Review submitted successfully."),h(0),S(""),P({type:k})),P((t=e.match.params.id,function(){var e=Object(O.a)(p.a.mark((function e(r){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:f,payload:t}),e.next=4,A.a.get("/api/products/"+t);case 4:c=e.sent,n=c.data,r({type:y,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:g,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[T]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"backtoresult",children:Object(c.jsx)(d.b,{to:"/",className:"link",children:" Back to result"})}),C?Object(c.jsx)("div",{children:"Loading..."}):I?Object(c.jsxs)("div",{children:[I," "]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"details",children:[Object(c.jsx)("div",{className:"detailsimage",children:Object(c.jsx)("img",{src:_.image,alt:"product"})}),Object(c.jsx)("div",{className:"detailsinfo",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("h4",{children:_.name})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#reviews",children:Object(c.jsx)(U,{value:_.rating,text:_.numReviews+" reviews"})})}),Object(c.jsxs)("li",{children:["Price: ",Object(c.jsxs)("b",{children:["$",_.price]})]}),Object(c.jsxs)("li",{children:["Description:",Object(c.jsx)("div",{children:_.description})]})]})}),Object(c.jsx)("div",{className:"detailsaction",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Price: ",_.price]}),Object(c.jsxs)("li",{children:["Status:"," ",_.countInStock>0?"In Stock":"Unavailable."]}),Object(c.jsxs)("li",{children:["Qty:"," ",Object(c.jsx)("select",{value:a,onChange:function(e){s(e.target.value)},children:Object(u.a)(Array(_.countInStock).keys()).map((function(e){return Object(c.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(c.jsx)("li",{children:_.countInStock>0&&Object(c.jsx)("button",{onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+a)},className:"button primary",children:"Add to Cart"})})]})})]}),Object(c.jsxs)("div",{className:"content-margined",children:[Object(c.jsx)("h2",{children:"Reviews"}),!_.reviews.length&&Object(c.jsx)("div",{children:"There is no review"}),Object(c.jsxs)("ul",{className:"review",id:"reviews",children:[_.reviews.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:e.name}),Object(c.jsx)("div",{children:Object(c.jsx)(U,{value:e.rating})}),Object(c.jsx)("div",{children:e.createdAt.substring(0,10)}),Object(c.jsx)("div",{children:e.comment})]},e._id)})),Object(c.jsxs)("li",{children:[Object(c.jsx)("h3",{children:"Write a customer review"}),E?Object(c.jsx)("form",{onSubmit:function(t){var r,c;t.preventDefault(),P((r=e.match.params.id,c={name:E.name,rating:o,comment:v},function(){var e=Object(O.a)(p.a.mark((function e(t,n){var a,s,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n(),s=a.userSignin.userInfo.token,t({type:w,payload:c}),e.next=5,A.a.post("/api/products/".concat(r,"/reviews"),c,{headers:{Authorization:"Bearer "+s}});case 5:i=e.sent,l=i.data,t({type:R,payload:l}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:D,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(c.jsxs)("select",{className:"rating",id:"rating",value:o,onChange:function(e){return h(e.target.value)},children:[Object(c.jsx)("option",{value:"1",children:"1- Poor"}),Object(c.jsx)("option",{value:"2",children:"2- Fair"}),Object(c.jsx)("option",{value:"3",children:"3- Good"}),Object(c.jsx)("option",{value:"4",children:"4- Very Good"}),Object(c.jsx)("option",{value:"5",children:"5- Excelent"})]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(c.jsx)("textarea",{name:"comment",value:v,onChange:function(e){return S(e.target.value)}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:"Submit"})})]})}):Object(c.jsxs)("div",{children:["Please ",Object(c.jsx)(d.b,{to:"/signin",children:"Sign-in"})," to write a review."]})]})]})]})]})]})}function F(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=(l[1],e.match.params.id?e.match.params.id:""),h=Object(b.c)((function(e){return e.productList})),p=h.products,O=h.loading,x=h.error,m=Object(b.b)();Object(n.useEffect)((function(){return m(P(u)),function(){}}),[u]);return Object(c.jsxs)(c.Fragment,{children:[u&&Object(c.jsx)("h2",{children:u}),Object(c.jsx)("ul",{className:"filter",children:Object(c.jsx)("li",{children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(P(u,a,o))},children:[Object(c.jsx)("input",{name:"searchKeyword",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("button",{type:"submit",children:"Search"})]})})}),O?Object(c.jsx)("div",{children:"Loading.."}):x?{error:x}:Object(c.jsx)("ul",{className:"products",children:p.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"product",children:[Object(c.jsx)(d.b,{to:"/product/"+e._id,className:"link",children:Object(c.jsx)("img",{src:e.image,alt:"image1",className:"productimage"})}),Object(c.jsx)("div",{className:"productname",children:Object(c.jsx)(d.b,{to:"/product/"+e._id,className:"link ",children:e.name})}),Object(c.jsx)("div",{className:"productbrand",children:e.brand}),Object(c.jsxs)("div",{className:"productprice",children:["$",e.price]}),Object(c.jsx)("div",{className:"productrating",children:Object(c.jsx)(U,{value:e.rating,text:e.numReview+" reviews"})})]})},e._id)}))})]})}var B=r(15),M=r.n(B),Q="CART_ADD_ITEM",V="CART_REMOVE_ITEM",z="CART_SAVE_SHIPPING",$="CART_SAVE_PAYMENT",G=function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(c,n){var a,s,i,l;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,A.a.get("/api/products/"+e);case 3:a=r.sent,s=a.data,c({type:Q,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),i=n(),l=i.cart.cartItems,M.a.set("cartItems",JSON.stringify(l)),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(0);case 12:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}()};var J=function(e){var t=Object(b.c)((function(e){return e.cart})).cartItems,r=e.match.params.id,a=e.location.search?Number(e.location.search.split("=")[1]):1,s=Object(b.b)(),i=function(e){s(function(e){return function(t,r){t({type:V,payload:e});var c=r().cart.cartItems;M.a.set("cartItems",JSON.stringify(c))}}(e))};return Object(n.useEffect)((function(){r&&s(G(r,a))}),[]),Object(c.jsxs)("div",{className:"cart",children:[Object(c.jsx)("div",{className:"cartlist",children:Object(c.jsxs)("ul",{className:"cartlistcontainer",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("h3",{children:"Shopping Cart"}),Object(c.jsx)("div",{children:"Price"})]}),0===t.length?Object(c.jsx)("div",{children:"Cart is empty"}):t.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:"cartimage",children:Object(c.jsx)("img",{src:e.image,alt:"product"})}),Object(c.jsxs)("div",{className:"cartname",children:[Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/product/"+e.product,className:"link",children:e.name})}),Object(c.jsxs)("div",{children:["Qty:",Object(c.jsx)("select",{value:e.qty,onChange:function(t){return s(G(e.product,t.target.value))},children:Object(u.a)(Array(e.countInStock).keys()).map((function(e){return Object(c.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(c.jsx)("button",{type:"button",className:"button",onClick:function(){return i(e.product)},children:"Delete"})]})]}),Object(c.jsxs)("div",{className:"cartprice",children:["$",e.price]})]},e._id)}))]})}),Object(c.jsxs)("div",{className:"cartaction",children:[Object(c.jsxs)("h3",{children:["Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : $ ",t.reduce((function(e,t){return e+t.price*t.qty}),0)]}),Object(c.jsx)("button",{onClick:function(){e.history.push("/signin?redirect=shipping")},className:"button primary fullwidth",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},q="USER_SIGNIN_REQUEST",Y="USER_SIGNIN_SUCCESS",W="USER_SIGNIN_FAIL",X="USER_UPDATE_REQUEST",K="USER_UPDATE_SUCCESS",H="USER_UPDATE_FAIL",Z="USER_REGISTER_REQUEST",ee="USER_REGISTER_SUCCESS",te="USER_REGISTER_FAIL",re="USER_LOGOUT";var ce=function(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1],h=Object(b.c)((function(e){return e.userSignin})),x=h.loading,m=h.userInfo,v=h.error,f=Object(b.b)(),y=e.location.search?e.location.search.split("=")[1]:"/";return Object(n.useEffect)((function(){return m&&e.history.push(y),function(){}}),[m]),Object(c.jsx)("div",{className:"form",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(c){var n,a;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:q,payload:{email:e,password:t}}),r.prev=1,r.next=4,A.a.post("/api/users/signin",{email:e,password:t});case 4:n=r.sent,a=n.data,c({type:Y,payload:a}),M.a.set("userInfo",JSON.stringify(a)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),c({type:W,payload:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}(a,o))},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Sign-In"})}),Object(c.jsxs)("li",{children:[x&&Object(c.jsx)("div",{children:"Loading..."}),v&&Object(c.jsx)("div",{children:v})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return u(e.target.value)}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:"Signin"})}),Object(c.jsx)("li",{children:"New to amazona?"}),Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"/"===y?"register":"register?redirect="+y,className:"button secondary textcenter",children:"Create your amazona account"})})]})})})};function ne(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1],h=Object(n.useState)(""),x=Object(j.a)(h,2),m=x[0],v=x[1],f=Object(n.useState)(""),y=Object(j.a)(f,2),g=(y[0],y[1]),S=Object(b.c)((function(e){return e.userRegister})),E=S.loading,N=S.userInfo,_=S.error,C=Object(b.b)(),I=e.location.search?e.location.search.split("=")[1]:"/";Object(n.useEffect)((function(){return N&&e.history.push(I),function(){}}),[N]);return Object(c.jsx)("div",{className:"form",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),C(function(e,t,r){return function(){var c=Object(O.a)(p.a.mark((function c(n){var a,s;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n({type:Z,payload:{name:e,email:t,password:r}}),c.prev=1,c.next=4,A.a.post("/api/users/register",{name:e,email:t,password:r});case 4:a=c.sent,s=a.data,n({type:ee,payload:s}),M.a.set("userInfo",JSON.stringify(s)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),n({type:te,payload:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(a,o,m))},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Create Account"})}),Object(c.jsxs)("li",{children:[E&&Object(c.jsx)("div",{children:"Loading..."}),_&&Object(c.jsx)("div",{children:_})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return v(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"rePassword",children:"Confirm Password"}),Object(c.jsx)("input",{type:"password",name:"Confirm Password",id:"rePassword",onChange:function(e){return g(e.target.value)}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{className:"button primary ",type:"submit",children:"Register"})}),Object(c.jsx)("li",{children:"Already have an account? "}),Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"/"===I?"signin":"signin?redirect="+I,className:"button secondary textcenter link ",children:"Create your amazona Account"})})]})})})}var ae=function(e){var t=Object(n.useState)(!1),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),d=l[0],o=l[1],u=Object(n.useState)(""),h=Object(j.a)(u,2),x=h[0],m=h[1],v=Object(n.useState)(""),f=Object(j.a)(v,2),y=f[0],g=f[1],w=Object(n.useState)(""),R=Object(j.a)(w,2),D=R[0],k=R[1],T=Object(n.useState)(""),U=Object(j.a)(T,2),L=U[0],F=U[1],B=Object(n.useState)(""),M=Object(j.a)(B,2),Q=M[0],V=M[1],z=Object(n.useState)(""),$=Object(j.a)(z,2),G=$[0],J=$[1],q=Object(n.useState)(""),Y=Object(j.a)(q,2),W=Y[0],X=Y[1],K=Object(n.useState)(!1),H=Object(j.a)(K,2),Z=H[0],ee=H[1],te=Object(b.c)((function(e){return e.productList})),re=(te.loading,te.products),ce=(te.error,Object(b.c)((function(e){return e.productSave}))),ne=ce.loading,ae=ce.success,se=ce.error,ie=Object(b.c)((function(e){return e.productDelete})),le=(ie.loading,ie.success),de=(ie.error,Object(b.b)());Object(n.useEffect)((function(){return ae&&s(!1),de(P()),function(){}}),[ae,le]);var oe=function(e){s(!0),o(e._id),m(e.name),g(e.price),X(e.description),k(e.image),F(e.brand),V(e.category),J(e.countInStock)},je=function(e){var t;de((t=e._id,function(){var e=Object(O.a)(p.a.mark((function e(r,c){var n,a,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=c(),a=n.userSignin.userInfo,r({type:_,payload:t}),e.next=5,A.a.delete("/api/products/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,r({type:C,payload:i,success:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:I,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()))};return Object(c.jsxs)("div",{className:"content content-margined",children:[Object(c.jsxs)("div",{className:"product-header",children:[Object(c.jsx)("h3",{children:"Products"}),Object(c.jsx)("button",{className:"button primary",onClick:function(){return oe({})},children:"Create Product"})]}),a&&Object(c.jsx)("div",{className:"form",children:Object(c.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),de((t={_id:d,name:x,price:y,image:D,brand:L,category:Q,countInStock:G,description:W},function(){var e=Object(O.a)(p.a.mark((function e(r,c){var n,a,s,i,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r({type:S,payload:t}),n=c(),a=n.userSignin.userInfo,t._id){e.next=11;break}return e.next=6,A.a.post("/api/products",t,{headers:{Authorization:"Bearer "+a.token}});case 6:s=e.sent,i=s.data,r({type:E,payload:i}),e.next=16;break;case 11:return e.next=13,A.a.put("/api/products/"+t._id,t,{headers:{Authorization:"Bearer "+a.token}});case 13:l=e.sent,d=l.data,r({type:E,payload:d});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),r({type:N,payload:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Create Product"})}),Object(c.jsxs)("li",{children:[ne&&Object(c.jsx)("div",{children:"Loading..."}),se&&Object(c.jsx)("div",{children:se})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",value:x,id:"name",onChange:function(e){return m(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"price",children:"Price"}),Object(c.jsx)("input",{type:"text",name:"price",value:y,id:"price",onChange:function(e){return g(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"image",children:"Image"}),Object(c.jsx)("input",{type:"text",name:"image",value:D,id:"image",onChange:function(e){return k(e.target.value)}}),Object(c.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],r=new FormData;r.append("image",t),ee(!0),A.a.post("/api/uploads",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){k(e.data),ee(!1)})).catch((function(e){console.log(e),ee(!1)}))}}),Z&&Object(c.jsx)("div",{children:"Uploading..."})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(c.jsx)("input",{type:"text",name:"brand",value:L,id:"brand",onChange:function(e){return F(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"countInStock",children:"CountInStock"}),Object(c.jsx)("input",{type:"text",name:"countInStock",value:G,id:"countInStock",onChange:function(e){return J(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"name",children:"Category"}),Object(c.jsx)("input",{type:"text",name:"category",value:Q,id:"category",onChange:function(e){return V(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"description",children:"Description"}),Object(c.jsx)("textarea",{name:"description",value:W,id:"description",onChange:function(e){return X(e.target.value)}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:d?"Update":"Create"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"button",onClick:function(){return s(!1)},className:"button secondary",children:"Back"})})]})})}),Object(c.jsx)("div",{className:"product-list",children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Price"}),Object(c.jsx)("th",{children:"Category"}),Object(c.jsx)("th",{children:"Brand"}),Object(c.jsx)("th",{children:"Action"})]})}),Object(c.jsx)("tbody",{children:re.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.price}),Object(c.jsx)("td",{children:e.category}),Object(c.jsx)("td",{children:e.brand}),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{className:"button",onClick:function(){return oe(e)},children:"Edit"})," ",Object(c.jsx)("button",{className:"button",onClick:function(){return je(e)},children:"Delete"})]})]},e._id)}))})]})})]})};var se=function(e){return Object(c.jsxs)("div",{className:"checkout-steps",children:[Object(c.jsx)("div",{className:e.step1?"active":"",children:"Signin"}),Object(c.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(c.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(c.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})};var ie=function(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),d=l[0],o=l[1],u=Object(n.useState)(""),h=Object(j.a)(u,2),p=h[0],O=h[1],x=Object(n.useState)(""),m=Object(j.a)(x,2),v=m[0],f=m[1],y=Object(b.b)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(se,{step1:!0,step2:!0}),Object(c.jsx)("div",{className:"form",children:Object(c.jsx)("form",{onSubmit:function(t){var r;t.preventDefault(),y((r={address:a,city:d,postalCode:p,country:v},function(e){e({type:z,payload:r})})),e.history.push("payment")},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Shipping"})}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"address",children:"Address"}),Object(c.jsx)("input",{type:"text",name:"address",id:"address",onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"city",children:"City"}),Object(c.jsx)("input",{type:"text",name:"city",id:"city",onChange:function(e){return o(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(c.jsx)("input",{type:"text",name:"postalCode",id:"postalCode",onChange:function(e){return O(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"country",children:"Country"}),Object(c.jsx)("input",{type:"text",name:"country",id:"country",onChange:function(e){return f(e.target.value)}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})};var le=function(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(b.b)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(se,{step1:!0,step2:!0,step3:!0}),Object(c.jsx)("div",{className:"form",children:Object(c.jsx)("form",{onSubmit:function(t){var r;t.preventDefault(),i((r={paymentMethod:a},function(e){e({type:$,payload:r})})),e.history.push("placeorder")},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Payment"})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",name:"paymentMethod",id:"paymentMethod",value:"paypal",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("label",{for:"paymentMethod",children:"Paypal"})]})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})},de="ORDER_CREATE_REQUEST",oe="ORDER_CREATE_SUCCESS",je="ORDER_CREATE_FAIL",ue="ORDER_DETAILS_REQUEST",be="ORDER_DETAILS_SUCCESS",he="ORDER_DETAILS_FAIL",pe="MY_ORDER_LIST_REQUEST",Oe="MY_ORDER_LIST_SUCCESS",xe="MY_ORDER_LIST_FAIL",me="ORDER_LIST_REQUEST",ve="ORDER_LIST_SUCCESS",fe="ORDER_LIST_FAIL",ye="ORDER_PAY_REQUEST",ge="ORDER_PAY_SUCCESS",Se="ORDER_PAY_FAIL",Ee="ORDER_DELETE_REQUEST",Ne="ORDER_DELETE_SUCCESS",_e="ORDER_DELETE_FAIL";var Ce=function(e){var t=Object(b.c)((function(e){return e.cart})),r=Object(b.c)((function(e){return e.orderCreate})),a=(r.loading,r.success),s=(r.error,r.order),i=t.cartItems,l=t.shipping,o=t.payment;l.address?o.paymentMethod||e.history.push("/payment"):e.history.push("/shipping");var j=i.reduce((function(e,t){return e+t.price*t.qty}),0),u=j>100?0:10,h=.15*j,x=j+u+h,m=Object(b.b)();return Object(n.useEffect)((function(){a&&e.history.push("/order/"+s._id)}),[a]),Object(c.jsxs)("div",{children:[Object(c.jsx)(se,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(c.jsxs)("div",{className:"placeorder",children:[Object(c.jsxs)("div",{className:"placeorder-info",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Shipping"}),Object(c.jsxs)("div",{children:[t.shipping.address,", ",t.shipping.city,",",t.shipping.postalCode,", ",t.shipping.country,","]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Payment"}),Object(c.jsxs)("div",{children:["Payment Method: ",t.payment.paymentMethod]})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("ul",{className:"cartlistcontainer",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("h3",{children:"Shopping Cart"}),Object(c.jsx)("div",{children:"Price"})]}),0===i.length?Object(c.jsx)("div",{children:"Cart is empty"}):i.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:"cartimage",children:Object(c.jsx)("img",{src:e.image,alt:"product"})}),Object(c.jsxs)("div",{className:"cartname",children:[Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/product/"+e.product,children:e.name})}),Object(c.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(c.jsxs)("div",{className:"cartprice",children:["$",e.price]})]})}))]})})]}),Object(c.jsx)("div",{className:"placeorder-action",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("button",{className:"button primary fullwidth",onClick:function(){m(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,c){var n,a,s,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:de,payload:e}),n=c(),a=n.userSignin.userInfo,t.next=5,A.a.post("/api/orders",e,{headers:{Authorization:" Bearer "+a.token}});case 5:s=t.sent,i=s.data.data,r({type:oe,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:je,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:i,shipping:l,payment:o,itemsPrice:j,shippingPrice:u,taxPrice:h,totalPrice:x}))},children:"Place Order"})}),Object(c.jsx)("li",{children:Object(c.jsx)("h3",{children:"Order Summary"})}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Items"}),Object(c.jsxs)("div",{children:["$",j]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Shipping"}),Object(c.jsxs)("div",{children:["$",u]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Tax"}),Object(c.jsxs)("div",{children:["$",h]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Order Total"}),Object(c.jsxs)("div",{children:["$",x]})]})]})})]})]})};var Ie=function(e){var t=Object(n.useState)(!1),r=Object(j.a)(t,2),s=r[0],d=r[1],o=function(){var e=Object(O.a)(p.a.mark((function e(){var t,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(c=document.createElement("script")).type="text/javascript",c.src="https://www.paypal.com/sdk/js?client-id="+r,c.async=!0,c.onload=function(){d(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){return window.paypal||o(),function(){}}),[]),!s)return Object(c.jsx)("div",{children:"Loading..."});var u=window.paypal.Buttons.driver("react",{React:a.a,ReactDOM:i.a});return Object(c.jsx)(u,Object(l.a)(Object(l.a)({},e),{},{createOrder:function(t,r){return function(t,r){return r.order.create({purchase_units:[{amount:{currency_code:"USD",value:e.amount}}]})}(0,r)},onApprove:function(t,r){return function(t,r){return r.order.capture().then((function(r){return e.onSuccess(t,r)})).catch((function(e){return console.log(e)}))}(t,r)}}))};var we=function(e){var t=Object(b.c)((function(e){return e.orderPay})),r=(t.loading,t.success),a=(t.error,Object(b.b)());Object(n.useEffect)((function(){var t;return r?e.history.push("/profile"):a((t=e.match.params.id,function(){var e=Object(O.a)(p.a.mark((function e(r,c){var n,a,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:ue,payload:t}),n=c(),a=n.userSignin.userInfo,e.next=5,A.a.get("/api/orders/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,r({type:be,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:he,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}())),function(){}}),[r]);var s=Object(b.c)((function(e){return e.orderDetails})),i=s.loading,l=s.order,o=s.error;return i?Object(c.jsx)("div",{children:"Loading ..."}):o?Object(c.jsx)("div",{children:o}):Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"placeorder",children:[Object(c.jsxs)("div",{className:"placeorder-info",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Shipping"}),Object(c.jsxs)("div",{children:[l.shipping.address,", ",l.shipping.city,",",l.shipping.postalCode,", ",l.shipping.country,","]}),Object(c.jsx)("div",{children:l.isDelivered?"Delivered at "+l.deliveredAt:"Not Delivered."})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Payment"}),Object(c.jsxs)("div",{children:["Payment Method: ",l.payment.paymentMethod]}),Object(c.jsx)("div",{children:l.isPaid?"Paid at "+l.paidAt:"Not Paid."})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("ul",{className:"cartlistcontainer",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("h3",{children:"Shopping Cart"}),Object(c.jsx)("div",{children:"Price"})]}),0===l.orderItems.length?Object(c.jsx)("div",{children:"Cart is empty"}):l.orderItems.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:"cartimage",children:Object(c.jsx)("img",{src:e.image,alt:"product"})}),Object(c.jsxs)("div",{className:"cartname",children:[Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{to:"/product/"+e.product,children:e.name})}),Object(c.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(c.jsxs)("div",{className:"cartprice",children:["$",e.price]})]},e._id)}))]})})]}),Object(c.jsx)("div",{className:"placeorder-action",children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{className:"placeorder-actions-payment",children:[i&&Object(c.jsx)("div",{children:"Finishing Payment..."}),!l.isPaid&&Object(c.jsx)(Ie,{amount:l.totalPrice,onSuccess:function(e){a(function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(c,n){var a,s,i,l;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:ye,payload:t}),a=n(),s=a.userSignin.userInfo,r.next=5,A.a.put("/api/orders/"+e._id+"/pay",t,{headers:{Authorization:"Bearer "+s.token}});case 5:i=r.sent,l=i.data,c({type:ge,payload:l}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),c({type:Se,payload:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}()}(l,e))}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("h3",{children:"Order Summary"})}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Items"}),Object(c.jsxs)("div",{children:["$",l.itemsPrice]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Shipping"}),Object(c.jsxs)("div",{children:["$",l.shippingPrice]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Tax"}),Object(c.jsxs)("div",{children:["$",l.taxPrice]})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:"Order Total"}),Object(c.jsxs)("div",{children:["$",l.totalPrice]})]})]})})]})})};var Re=function(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),a=r[0],s=r[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],u=l[1],h=Object(n.useState)(""),x=Object(j.a)(h,2),m=x[0],v=x[1],f=Object(b.b)(),y=Object(b.c)((function(e){return e.userSignin})).userInfo,g=Object(b.c)((function(e){return e.userUpdate})),S=g.loading,E=g.success,N=g.error,_=Object(b.c)((function(e){return e.myOrderList})),C=_.loading,I=_.orders,w=_.error;return Object(n.useEffect)((function(){return y&&(console.log(y.name),v(y.email),s(y.name),u(y.password)),f(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var c,n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:pe}),c=r(),n=c.userSignin.userInfo,e.next=5,A.a.get("/api/orders/mine",{headers:{Authorization:"Bearer "+n.token}});case 5:a=e.sent,s=a.data,t({type:Oe,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:xe,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()),function(){}}),[y]),Object(c.jsxs)("div",{className:"profile",children:[Object(c.jsx)("div",{className:"profile-info",children:Object(c.jsx)("div",{className:"form",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),f(function(e){var t=e.userId,r=e.name,c=e.email,n=e.password;return function(){var e=Object(O.a)(p.a.mark((function e(a,s){var i,l,d,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s(),l=i.userSignin.userInfo,a({type:X,payload:{userId:t,name:r,email:c,password:n}}),e.prev=2,e.next=5,A.a.put("/api/users/"+t,{name:r,email:c,password:n},{headers:{Authorization:"Bearer "+l.token}});case 5:d=e.sent,o=d.data,a({type:K,payload:o}),M.a.set("userInfo",JSON.stringify(o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),a({type:H,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()}({userId:y._id,email:m,name:a,password:o}))},children:Object(c.jsxs)("ul",{className:"formcontainer",children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"User Profile"})}),Object(c.jsxs)("li",{children:[S&&Object(c.jsx)("div",{children:"Loading..."}),N&&Object(c.jsx)("div",{children:N}),E&&Object(c.jsx)("div",{children:"Profile Saved Successfully."})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{value:a,type:"name",name:"name",id:"name",onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{value:m,type:"email",name:"email",id:"email",onChange:function(e){return v(e.target.value)}})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{value:o,type:"password",id:"password",name:"password",onChange:function(e){return u(e.target.value)}})]}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"submit",className:"button primary",children:"Update"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"button",onClick:function(){f((function(e){M.a.remove("userInfo"),e({type:re})})),e.history.push("/signin")},className:"button secondary full-width",children:"Logout"})})]})})})}),Object(c.jsx)("div",{className:"profile-orders content-margined",children:C?Object(c.jsx)("div",{children:"Loading..."}):w?Object(c.jsxs)("div",{children:[w," "]}):Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"DATE"}),Object(c.jsx)("th",{children:"TOTAL"}),Object(c.jsx)("th",{children:"PAID"}),Object(c.jsx)("th",{children:"ACTIONS"})]})}),Object(c.jsx)("tbody",{children:I.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:e.createdAt}),Object(c.jsx)("td",{children:e.totalPrice}),Object(c.jsx)("td",{children:e.isPaid}),Object(c.jsx)("td",{children:Object(c.jsx)(d.b,{to:"/order/"+e._id,children:"DETAILS"})})]},e._id)}))})]})})]})};var De=function(e){var t=Object(b.c)((function(e){return e.orderList})),r=t.loading,a=t.orders,s=(t.error,Object(b.c)((function(e){return e.orderDelete}))),i=(s.loading,s.success),l=(s.error,Object(b.b)());Object(n.useEffect)((function(){return l(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var c,n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:me}),c=r(),n=c.userSignin.userInfo,e.next=5,A.a.get("/api/orders",{headers:{Authorization:"Bearer "+n.token}});case 5:a=e.sent,s=a.data,t({type:ve,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:fe,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()),function(){}}),[i]);var o=function(e){var t;l((t=e._id,function(){var e=Object(O.a)(p.a.mark((function e(r,c){var n,a,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Ee,payload:t}),n=c(),a=n.userSignin.userInfo,e.next=5,A.a.delete("/api/orders/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,r({type:Ne,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:_e,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()))};return r?Object(c.jsx)("div",{children:"Loading..."}):Object(c.jsxs)("div",{className:"content content-margined",children:[Object(c.jsx)("div",{className:"order-header",children:Object(c.jsx)("h3",{children:"Orders"})}),Object(c.jsx)("div",{className:"order-list",children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"DATE"}),Object(c.jsx)("th",{children:"TOTAL"}),Object(c.jsx)("th",{children:"USER"}),Object(c.jsx)("th",{children:"PAID"}),Object(c.jsx)("th",{children:"PAID AT"}),Object(c.jsx)("th",{children:"DELIVERED"}),Object(c.jsx)("th",{children:"DELIVERED AT"}),Object(c.jsx)("th",{children:"ACTIONS"})]})}),Object(c.jsx)("tbody",{children:a.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e._id}),Object(c.jsx)("td",{children:e.createdAt}),Object(c.jsx)("td",{children:e.totalPrice}),Object(c.jsx)("td",{children:e.user.name}),Object(c.jsx)("td",{children:e.isPaid.toString()}),Object(c.jsx)("td",{children:e.paidAt}),Object(c.jsx)("td",{children:e.isDelivered.toString()}),Object(c.jsx)("td",{children:e.deliveredAt}),Object(c.jsxs)("td",{children:[Object(c.jsx)(d.b,{to:"/order/"+e._id,className:"button secondary",children:"Details"})," ",Object(c.jsx)("button",{type:"button",onClick:function(){return o(e)},className:"button secondary",children:"Delete"})]})]},e._id)}))})]})})]})};function ke(){var e=Object(b.c)((function(e){return e.userSignin})).userInfo,t=Object(n.useState)(!1),r=Object(j.a)(t,2),a=r[0],s=r[1];return Object(c.jsxs)("div",{className:"grid-container",children:[Object(c.jsxs)("header",{className:"header",children:[Object(c.jsxs)("div",{className:"menubtnname",children:[Object(c.jsx)("button",{className:"menubtn",onClick:function(){s(!0)},children:"\u2630"}),Object(c.jsx)(d.b,{to:"/",className:"brand",children:"New Look"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(d.b,{to:"/cart",className:"headerlinks",children:" Cart"}),e?Object(c.jsx)(d.b,{to:"/profile",className:"link usersigned",children:e.name}):Object(c.jsx)(d.b,{to:"/signin",className:"headerlinks link",children:"Sign In"}),e&&e.isAdmin&&Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsx)("ul",{className:"dropdown-content",children:Object(c.jsxs)("li",{children:[Object(c.jsx)(d.b,{to:"/orders",className:"link",children:"Orders"}),Object(c.jsx)(d.b,{to:"/products",className:"link",children:"Products"})]})})})]})]}),Object(c.jsxs)("aside",{className:a?"sidebar open":"sidebar",children:[Object(c.jsx)("h3",{children:"Shopping Categories"}),Object(c.jsx)("button",{onClick:function(){s(!1)},className:"sidebarclosebtn",children:"X"}),Object(c.jsxs)("ul",{className:"sidebarlist",children:[Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"/",className:"link",children:"Skin Care"})}),Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"/",className:"link",children:"Beauty Care"})})]})]}),Object(c.jsx)("main",{className:"main",children:Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{path:"/orders",component:De}),Object(c.jsx)(o.b,{path:"/profile",component:Re}),Object(c.jsx)(o.b,{path:"/order/:id",component:we}),Object(c.jsx)(o.b,{path:"/products",component:ae}),Object(c.jsx)(o.b,{path:"/shipping",component:ie}),Object(c.jsx)(o.b,{path:"/payment",component:le}),Object(c.jsx)(o.b,{path:"/placeorder",component:Ce}),Object(c.jsx)(o.b,{path:"/signin",component:ce}),Object(c.jsx)(o.b,{path:"/register",component:ne}),Object(c.jsx)(o.b,{path:"/product/:id",exact:!0,component:L}),Object(c.jsx)(o.b,{path:"/cart/:id?",component:J}),Object(c.jsx)(o.b,{path:"/category/:id",component:F}),Object(c.jsx)(o.b,{path:"/",component:F}),Object(c.jsx)(o.a,{to:"/"})]})})}),Object(c.jsx)("div",{className:"footer",children:"All rights reserved."})]})}var Te=function(){return Object(c.jsx)(d.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(o.b,{path:"/",render:function(e){return Object(c.jsx)(ke,Object(l.a)({display:!0},e))}})})})},Ae=r(17),Pe=r(41);var Ue={cart:{cartItems:M.a.getJSON("cartItems")||[],shipping:{},payment:{}},userSignin:{userInfo:M.a.getJSON("userInfo")||null}},Le=Object(Ae.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0,products:[]};case m:return{loading:!1,products:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case y:return{loading:!1,product:t.payload};case g:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{},payment:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var r=t.payload,c=e.cartItems.find((function(e){return e.product===r.product}));return c?{cartItems:e.cartItems.map((function(e){return e.product===c.product?r:e}))}:{cartItems:[].concat(Object(u.a)(e.cartItems),[r])};case V:return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};case z:return Object(l.a)(Object(l.a)({},e),{},{shipping:t.payload});case $:return Object(l.a)(Object(l.a)({},e),{},{payment:t.payload});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case Y:return{loading:!1,userInfo:t.payload};case W:return{loading:!1,error:t.payload};case re:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case ee:return{loading:!1,userInfo:t.payload};case te:return{loading:!1,error:t.payload};default:return e}},productSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case E:return{loading:!1,success:!0,product:t.payload};case N:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case C:return{loading:!1,product:t.payload,success:!0};case I:return{loading:!1,error:t.payload};default:return e}},productReviewSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case R:return{loading:!1,review:t.payload,success:!0};case D:return{loading:!1,errror:t.payload};case k:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case oe:return{loading:!1,order:t.payload,success:!0};case je:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case be:return{loading:!1,order:t.payload};case he:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return{loading:!0};case ge:return{loading:!1,success:!0};case Se:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case K:return{loading:!1,userInfo:t.payload};case H:return{loading:!1,error:t.payload};default:return e}},myOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{loading:!0};case Oe:return{loading:!1,orders:t.payload};case xe:return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0};case ve:return{loading:!1,orders:t.payload};case fe:return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case Ne:return{loading:!1,success:!0};case _e:return{loading:!1,error:t.payload};default:return e}}}),Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ae.d,Be=Object(Ae.e)(Le,Ue,Fe(Object(Ae.a)(Pe.a)));i.a.render(Object(c.jsx)(b.a,{store:Be,children:Object(c.jsx)(Te,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.a5abbfbc.chunk.js.map